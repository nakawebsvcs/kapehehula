---
import BaseLayout from "../layouts/BaseLayout.astro";
import Carousel from "../components/Carousel.astro";

// Optimize our landing image and pass it as props to the BaseLayout (for preloading) and Landing (for rendering)
import {getOptimizedImage} from "../js/utils"
import landingImage from "../assets/images/landing.jpg" // <-- THE PATH TO THE ASSET YOU WANT TO PRELOAD - The asset must live in src
const optimizedImage = await getOptimizedImage(landingImage)

---

<BaseLayout
  title="Hālau Hula Malani O Kapehe"
  description="Under the direction of Kumu Hula Mapuana Samonte-Nowak, Hālau Hula Malani O Kapehe strives to share the love of Hula and Hawaiian traditions as inspired and preserved by our Kupuna."
  preloadedImage = {optimizedImage}
>   
  <!-- ============================================ -->
  <!--                    Hero                      -->
  <!-- ============================================ -->

  <section id="hero">
    <div class="cs-container">
      </div>
    </div>

    <!-- Background Image -->
  <picture class="cs-picture">
    <source
      media="(max-width: 600px)"
      srcset="/assets/images/home-photo.jpg"
    />
    <source media="(min-width: 601px)" srcset="/assets/images/home-photo.jpg" />
    <img
      aria-hidden="true"
      decoding="async"
      src={optimizedImage.src}
      alt="new home"
      width="2500"
      height="1667"
      loading="eager"
    />
  </picture>
  </section>

  <!-- ============================================ -->
<!--                  Content                     -->
<!-- ============================================ -->

<section id="content-1450">
    <div class="cs-container">
        <div class="cs-content">
            <p class="cs-text">
                Under the direction of <span class="allura">Kumu Hula Mapuana Samonte-Nowak,</span> Hālau Hula Malani O Kapehe strives to share the love of Hula and Hawaiian traditions as inspired and preserved by our Kupuna. We do so by teaching from the heart, ensuring this knowledge carries forward to future generations.
            </p>
            <div class="divider"></div>
            <h2 class="cs-title cinzel">"I ulu no ka lala i ke kumu"</h2>
        </div>
    </div>
</section>

  <!-- ============================================ -->
<!--                  Banner                     -->
<!-- ============================================ -->

<section id="announcement">
  <div class="cs-container">
    <div class="cs-content">
      <p class="cs-text">
        Halau classes are held on Sundays in Kahului. We are currently not accepting new students. If you are interested in classes, you may submit an online registration form below to be added to our waitlist.
      </p>
    </div>
  </div>
</section>
                                
  <Carousel />

  <!-- ============================================ -->
<!--             Side By Side Reverse             -->
<!-- ============================================ -->

<section id="sbsr-2273">
    <div class="cs-container">
        <div class="cs-image-group">
            <picture class="cs-picture">
                <!--Mobile Image-->
                <source media="(max-width: 600px)" srcset="/assets/images/westin2.jpg">
                <!--Tablet and above Image-->
                <source media="(min-width: 601px)" srcset="/assets/images/westin2.jpg">
                <img loading="lazy" decoding="async" src="/assets/images/westin2.jpg" alt="westin event" width="243" height="367">
            </picture>
        </div>
        <div class="cs-content">
            <h2 class="cs-title cinzel">Event Requests</h2>
            <p class="cs-text">
                Halau Hula Malani O Kapehe is available for weddings, conventions, and other special events.<br><br>
Inquire about special occasion performances below.
            </p>
         <!--    <ul class="cs-card-group">
                <li class="cs-item">
                    <picture class="cs-icon-wrapper">
                        <img class="cs-icon" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/MISC/wedding-thumb.svg" alt="icon" width="32" height="32">
                    </picture>
                    <div class="cs-flex">
                        <h3 class="cs-h3">Experience & Expertise</h3>
                        <p class="cs-item-text">
                            We have courses on-demand and live instructors for workshops and support.
                        </p>
                    </div>
                </li>
                <li class="cs-item">
                    <picture class="cs-icon-wrapper">
                        <img class="cs-icon" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/MISC/wedding-lightbulb.svg" alt="icon" width="72" height="72">
                    </picture>
                    <div class="cs-flex">
                        <h3 class="cs-h3">Creative Approach</h3>
                        <p class="cs-item-text">
                            We have courses on-demand and live instructors for workshops and support.
                        </p>
                    </div>
                </li>
                <li class="cs-item">
                    <picture class="cs-icon-wrapper">
                        <img class="cs-icon" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/MISC/wedding-sun.svg" alt="icon" width="72" height="72">
                    </picture>
                    <div class="cs-flex">
                        <h3 class="cs-h3">Flexibility & Customisation</h3>
                        <p class="cs-item-text">
                            We have courses on-demand and live instructors for workshops and support.
                        </p>
                    </div>
                </li>
                <li class="cs-item">
                    <picture class="cs-icon-wrapper">
                        <img class="cs-icon" loading="lazy" decoding="async" src="https://csimg.nyc3.cdn.digitaloceanspaces.com/Images/MISC/wedding-headphone.svg" alt="icon" width="72" height="72">
                    </picture>
                    <div class="cs-flex">
                        <h3 class="cs-h3">24/7 Premium Support</h3>
                        <p class="cs-item-text">
                            We have courses on-demand and live instructors for workshops and support.
                        </p>
                    </div>
                </li>
            </ul> -->
            <a href="mailto:mapuanas@gmail.com" class="cs-button-solid">Contact</a>
        </div>
    </div>
</section>

</BaseLayout>

<style lang="less">
  /* STYLES FOR ABOVE THE FOLD */

  html body, 
html body p, 
html body .cs-text {
  font-family: "Afacad", Arial, sans-serif !important;
  font-size: clamp(1.4rem, 1.8vw, 2.3rem) !important;
}
  
  .allura {
    font-family: "Allura", "Arial", sans-serif;
    font-weight: 400;
    font-size: 2rem;
  }

  .cinzel {
    font-family: "Cinzel", "Arial", sans-serif;
    font-weight: 400;
    font-size: clamp(1.8rem, 4vw, 2.5rem);
  }

  .divider {
  width: 100px; /* Short width */
  max-width: 90%; /* Responsive constraint */
  height: 2px; /* Thin line */
  background-color: #000; /* Black color */
  margin: 2rem auto; /* Center it with space above and below */
  border-radius: 1.5px; /* Slightly rounded edges */
}

  /*-- -------------------------- -->
<---           Hero             -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0em) {
  #hero {
    font-family: "Afacad", "Arial", sans-serif;
    text-align: center;
    padding: 0 (16/16rem);
    padding-bottom: (100/16rem);
    position: relative;
    z-index: 1;
    overflow: hidden;
    
    /* Use background image with cover to fill the space */
    background: url("/assets/images/home-photo.jpg");
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
    background-attachment: scroll; /* No parallax on mobile */
    
    /* Set a height that maintains aspect ratio on mobile */
    height: 50vh; /* Adjust this value as needed */
    
    .cs-container {
      width: 100%;
      max-width: (1280/16em);
      margin: auto;
      /* Adjust padding to fit within the reduced height */
      padding: clamp(4em, 15vw, 8em) 0;
      position: relative;
    }
    
    /* Hide the picture element since we're using background */
    .cs-picture {
      display: none;
    }
  }
}

/* Tablet - 768px */
@media only screen and (min-width: 48em) {
  #hero {
    padding: 0 clamp(2em, 5vw, 2.5em);
    /* Increase height for tablet */
    height: 60vh; /* Adjust as needed */
    
    .cs-container {
      /* Adjust padding for tablet */
      padding: clamp(5em, 20vw, 12em) 0;
    }
  }
}

/* Desktop - 1024px */
@media only screen and (min-width: 64em) {
  #hero {
    /* Increase height for desktop */
    height: 70vh; /* Adjust as needed */
    
    .cs-container {
      /* Adjust padding for desktop */
      padding: clamp(7em, 27.95vw, 17.5em) 0 clamp(9em, 30.95vw, 23.5em) 0;
    }
  }
}

/* Large Desktop - 1300px */
@media only screen and (min-width: 81.25em) {
  #hero {
    /* Enable parallax on large desktop */
    background-attachment: fixed;
    /* Further increase height if desired */
    height: 80vh; /* Adjust as needed */
  }
}

@supports not (background-attachment: fixed) {
  #hero {
    background-attachment: scroll;
  }
}

  /* PAGE-SPECIFIC STYLES FOR THE HOME PAGE */

/*-- -------------------------- -->
<---          Content           -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #content-1450 {
        padding: var(--sectionPadding);
        
        .cs-container {
            width: 100%;
            max-width: (1280/16rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        h2 {
          font-weight: 400;
          font-size: clamp(1.8rem, 4vw, 2.5rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: center;
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
        }

        .cs-title, .cs-text {
            max-width: 100%;
        }

        .cs-text {
            /* 16px - 20px */
            font-size: clamp(1rem, 2vw, 1.25rem);
            margin: 0 0 (32/16rem) 0;
        }

       
        }
    }   

/*-- -------------------------- -->
<---      Banner               -->
<--- -------------------------- -*/
    
    #announcement {
    background-color: var(--primary); /* Using your primary color from root.less */
    color: #ffffff;
    width: 100%;
    padding: 3rem 1rem;
    text-align: center;
    
    .cs-container {
      width: 100%;
      max-width: (1280/16rem);
      margin: auto;
    }
    
    .cs-content {
      display: flex;
      justify-content: center;
      
      @media only screen and (min-width: 640px) {
        width: 75%; /* Similar to col-sm-9 in Bootstrap */
        margin: 0 auto;
      }
    }
    
    .cs-text {
      color: #ffffff;
      font-size: clamp(1rem, 1.5vw, 1.25rem);
      line-height: 1.6;
      margin: 0;
    }
  }

/*-- -------------------------- -->
<---   Side By Side Reverse     -->
<--- -------------------------- -*/

/* Mobile - 360px */
@media only screen and (min-width: 0rem) {
    #sbsr-2273 {
        padding: var(--sectionPadding);
        background-color: #fdfaf8;
        overflow: hidden;
        position: relative;
        z-index: 1;

        .cs-container {
            width: 100%;
            /* changes to 1280px on desktop */
            max-width: (584/16rem);
            margin: auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            /* 48px - 64px */
            gap: clamp(3rem, 6vw, 4rem);
        }

        .cs-content {
            /* set text align to left if content needs to be left aligned */
            text-align: center;
            width: 100%;
            display: flex;
            flex-direction: column;
            /* centers content horizontally, set to flex-start to left align */
            align-items: center;
        }

        .cs-topper {
            color: var(--secondary);
        }

        .cs-title {
            max-width: 30ch;
        }

        .cs-text {
            margin-bottom: (32/16rem);
        }

        .cs-card-group {
            width: 100%;
            margin: 0 0 (32/16rem);
            padding: 0;
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            /* 20px - 24px */
            gap: clamp(1.25rem, 1.7vw, 1.5rem);
        }

        .cs-item {
            text-align: center;
            list-style: none;
            width: 100%;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            grid-column: span 12;
            gap: (24/16rem);
            transition: background-color 0.3s;
        }

        .cs-icon-wrapper {
            width: (63/16rem);
            height: (63/16rem);
            border: 1px solid #bababa;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .cs-icon {
            width: (32/16rem);
            height: auto;
            margin: 0;
            display: block;
        }

        .cs-flex {
            flex: 1 1 0;
        }

        .cs-h3 {
            font-size: (20/16rem);
            font-weight: 700;
            line-height: 1.2em;
            text-align: inherit;
            margin: 0 0 (12/16rem);
            color: var(--headerColor);
            transition: color 0.3s;
        }

        .cs-item-text {
            font-size: (16/16rem);
            line-height: 1.5em;
            text-align: inherit;
            width: 100%;
            margin: auto 0 0 0;
            color: var(--bodyTextColor);
            transition: color 0.3s;
        }

        .cs-button-solid {
            font-size: (16/16rem);
            font-weight: 700;
            /* 46px - 56px */
            line-height: clamp(2.875rem, 5.5vw, 3.5rem);
            text-align: center;
            text-decoration: none;
            min-width: (150/16rem);
            margin: 0;
            padding: 0 (24/16rem);
            background-color: var(--primary);
            color: var(--headerColor);
            display: inline-block;
            position: relative;
            z-index: 1;

            &:before {
                content: "";
                width: 0%;
                height: 100%;
                background: #000;
                opacity: 1;
                border-radius: (4/16rem);
                position: absolute;
                top: 0;
                left: 0;
                z-index: -1;
                transition: width 0.3s;
            }

            &:hover {
                &:before {
                    width: 100%;
                }
            }
        }

        .cs-image-group {
            /* scales the whole section down and ties the font size to the vw and stops at 75% of the vale of 1em, changes at desktop */
            font-size: ~"min(2.8vw, .89rem)";
            /* everything inside this box is in ems so we can scale it all down proportionally with a font size */
            width: (522/16em);
            height: (611/16em);
            order: -1;
            position: relative;
            /* prevents flexbox from squishing it */
            flex: none;
        }

        .cs-picture {
            width: (553/16em);
            height: (583/16em);
            display: block;
            position: absolute;
            top: 0;
            left: 0;

            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                position: absolute;
                top: 0;
                left: 0;
            }
        }
    }
}

/* Tablet - 768px */
@media only screen and (min-width: 600px) {
    #sbsr-2273 {
        .cs-content {
            text-align: left;
            align-items: flex-start;
        }

        .cs-item {
            text-align: left;
            align-items: flex-start;
            grid-column: span 6;
        }
    }
}

/* Desktop - 1024px */
@media only screen and (min-width: 64rem) {
    #sbsr-2273 {
        .cs-container {
            max-width: (1280/16rem);
            flex-direction: row;
            align-items: stretch;
        }

        .cs-content {
            text-align: left;
            align-items: flex-start;
            align-self: center;
        }

        .cs-image-group {
            font-size: ~"min(1.3vw, 1rem)";
            height: auto;
            min-height: (612/16em);
            order: initial;
        }

        .cs-picture {
            height: auto;
            top: 0;
            bottom: (28/16em);
        }
    }
}

/* Large Desktop - 1400px */
@media only screen and (min-width: 87.5rem) {
    #sbsr-2273 {
        .cs-item {
            flex-direction: row;
        }
    }
}
</style>
